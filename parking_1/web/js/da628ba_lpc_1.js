$((function(){activateViewLinks()}));function reactivateView(tfoot,data,start,end,display){activateViewLinks()}function activateViewLinks(){$('td a[title="View"]').on("click",(function(e){e.preventDefault();tmp_link=$(this).attr("href").split("/");var id=tmp_link[tmp_link.length-1];var table=$("#id_LicensesBundle_Entity_Qualification").DataTable();var tr=$(this).closest("tr");var row=table.row(tr);if(row.child.isShown()){row.child.hide();$("i",$(this)).removeClass("la-arrow-circle-down").addClass("la-arrow-circle-o-right");tr.removeClass("shown")}else{$.ajax({url:$(this).attr("href"),type:"GET",dataType:"JSON"}).done((function(data){console.log("list lpc loaded",id,data,format(id,data));row.child(format(id,data)).show()}));$("i",$(this)).removeClass("la-arrow-circle-o-right").addClass("la-arrow-circle-down");tr.addClass("shown")}})).on("contextmenu",(function(){return false}))}function format(idRow,data){result='<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;"><tr>'+"<th>Date</th>"+"<th>Exam Number</th>"+"<th>Document</th>"+"<th>Valid From</th>"+"<th>Valid To</th>"+"<th>Actions</th>"+"</tr>";if(data!=0){$.each(data,(function(key,val){result+="<tr><td>"+val.examDate+"</td><td>"+val.qualification+"</td><td>"+val.document+"</td><td>"+val.validFrom+"</td><td>"+val.validTo+"</td>";result+="<td>";if(typeof lpcEditAction!="undefined"){result+='<a href="'+lpcEditAction.replace("pk_value",val.id)+'" class="btn btn-sm btn-clean btn-icon btn-icon-md" title="Edit"> <i class="la la-edit"></i></a>'}if(typeof lpcAddAction!="undefined"){result+='<a href="'+lpcAddAction.replace("pk_value",val.id)+'" class="btn btn-sm btn-clean btn-icon btn-icon-md" title="Renewal"> <i class="la la-plus-circle"></i></a>'}if(typeof lpcViewAction!="undefined"){result+='<a href="'+lpcViewAction.replace("pk_value",val.id)+'" class="btn btn-sm btn-clean btn-icon btn-icon-md" title="View"> <i class="la flaticon-eye"></i></a>'}result+="</td></tr>"}))}result+="</table>";return result}